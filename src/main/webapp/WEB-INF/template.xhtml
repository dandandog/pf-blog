<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:c="http://java.sun.com/jsp/jstl/core"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:p="http://primefaces.org/ui"
      lang="en">

<h:head>
    <f:facet name="first">
        <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
        <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0"/>
        <meta name="apple-mobile-web-app-capable" content="yes"/>
    </f:facet>
    <title><ui:insert name="title">PrimeFaces Ecuador</ui:insert></title>
    <h:outputScript name="js/layout.js" library="ecuador-layout"/>
    <h:outputScript name="js/prism.js" library="ecuador-layout"/>
    <ui:insert name="head"/>
    <script type="text/javascript">
        //<![CDATA[
        function start() {
            debugger
            PF('statusDialog').show();
        }

        function stop() {
            PF('statusDialog').hide();
        }

        //]]>
    </script>

</h:head>

<h:body styleClass="#{guestPreferences.inputStyleClass}">
    <c:set var="principal" value="#{p:userPrincipal().principal}"/>
    <p:outputPanel id="layout_panel"
                   styleClass="layout-wrapper #{guestPreferences.menuMode} layout-menu-#{guestPreferences.menuColor} #{guestPreferences.orientationRTL ? 'layout-rtl' : null}">
        <ui:include src="./topbar.xhtml"/>
        <ui:include src="./right_panel.xhtml"/>
        <ui:include src="./menu.xhtml"/>
        <ui:include src="./config.xhtml"/>

        <div class="layout-main">
            <div class="route-bar">
                <div class="route-bar-breadcrumb">
                    <ul id="viewname">
                        <li>
                            <a href="dashboard.xhtml">
                                <i class="pi pi-home"/>
                            </a>
                        </li>
                        <li>/</li>
                        <ui:insert name="viewname"/>
                    </ul>
                </div>
            </div>

            <div class="layout-content">
                <div class="p-grid">
                    <div class="p-col-12">
                        <div class="card">
                            <ui:insert name="content"/>
                        </div>
                    </div>
                </div>
            </div>

            <div class="layout-footer">
                <ui:include src="./footer.xhtml"/>
            </div>
        </div>

        <ui:insert name="dialog"/>

        <h:form>
            <p:confirmDialog id="confirmDialog" widgetVar="confirmDialog"
                             global="true" showEffect="fade" hideEffect="fade" width="400">
                <p:commandButton value="#{msg['framework']['confirm']}" type="button"
                                 styleClass="ui-confirmdialog-yes" icon="fa fa-check"/>
                <p:commandButton value="#{msg['framework']['cancel']}" type="button"
                                 styleClass="ui-confirmdialog-no ui-button-secondary" icon="fa fa-close"/>
            </p:confirmDialog>
        </h:form>

        <p:growl id="globalMessageGrowl" widgetVar="globalMessageGrowl" for="globalMessageGrowl"
                 showDetail="true" showSummary="true" sticky="false" life="3000"
                 autoUpdate="false" redisplay="true"/>

        <p:dialog id="globalDialog" widgetVar="globalDialog" width="700">
            <p:messages id="globalDialogMessages" forType="globalDialogMessages"
                        forIgnores="messages,globalMessageGrowl" showDetail="true"/>
        </p:dialog>

        <p:dialog modal="true" widgetVar="statusDialog" draggable="false" closable="false"
                  resizable="false" styleClass="transparent-dialog">
            <p:graphicImage name="images/loading.gif" library="blog" width="100"/>
        </p:dialog>

        <p:ajaxStatus styleClass="layout-ajax-loader">
            <f:facet name="start">
                <p:graphicImage name="images/loading.gif" library="blog" width="100"/>
            </f:facet>

            <f:facet name="complete">
                <h:outputText value=""/>
            </f:facet>
        </p:ajaxStatus>
    </p:outputPanel>
    <h:outputStylesheet name="css/primeicons.css" library="ecuador-layout"/>
    <h:outputStylesheet name="css/primeflex.min.css" library="ecuador-layout"/>
    <h:outputStylesheet name="css/common.css" library="framework"/>
    <h:outputStylesheet name="css/page.css" library="blog"/>
    <h:outputStylesheet name="css/layout-#{guestPreferences.theme}.css" library="ecuador-layout"/>
</h:body>

</html>